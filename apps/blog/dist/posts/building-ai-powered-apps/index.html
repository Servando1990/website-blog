<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="description" content="Learn how to integrate AI capabilities into your applications with practical examples and best practices."><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.18"><title>Building AI-Powered Applications: A Practical Guide</title><!-- Theme detection script (runs before page load) --><script>
      // Prevent flash of incorrect theme
      const getThemePreference = () => {
        if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
          return localStorage.getItem('theme');
        }
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      };
      const isDark = getThemePreference() === 'dark';
      document.documentElement.classList[isDark ? 'add' : 'remove']('dark');
      
      if (typeof localStorage !== 'undefined') {
        // Watch for changes in localStorage
        const observer = new MutationObserver(() => {
          const isDarkMode = document.documentElement.classList.contains('dark');
          localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
        });
        observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
      }
    </script><!-- Geist Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Geist:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"><!-- Font CSS Variables --><link rel="stylesheet" href="/_astro/about.D9YL_4tQ.css">
<link rel="stylesheet" href="/_astro/_slug_.BEe9PVHE.css">
<style>.toc[data-astro-cid-xvrfupwn]{position:sticky;top:2rem;height:-moz-fit-content;height:fit-content;max-height:calc(100vh - 4rem);overflow-y:auto;padding:1.5rem;margin-right:2rem;width:280px;flex-shrink:0}.toc-list[data-astro-cid-xvrfupwn]{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.5rem}.toc-item[data-astro-cid-xvrfupwn]{margin:0}.toc-link[data-astro-cid-xvrfupwn]{display:block;padding:.375rem 0;color:hsl(var(--muted-foreground));text-decoration:none;font-size:.875rem;line-height:1.4;transition:all .2s ease;border-radius:.25rem;white-space:normal;word-break:break-words}.toc-link[data-astro-cid-xvrfupwn]:hover{color:hsl(var(--primary));text-decoration:none}.toc-link[data-astro-cid-xvrfupwn].active{color:hsl(var(--foreground));font-weight:600}@media (max-width: 1200px){.toc[data-astro-cid-xvrfupwn]{display:none}}.toc[data-astro-cid-xvrfupwn]::-webkit-scrollbar{display:none}.toc[data-astro-cid-xvrfupwn]{-ms-overflow-style:none;scrollbar-width:none}html{scroll-behavior:smooth}.prose[data-astro-cid-gjtny2mx] h1[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] h2[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] h3[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] h4[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] h5[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] h6[data-astro-cid-gjtny2mx]{scroll-margin-top:2rem;position:relative;color:hsl(var(--foreground))!important}.prose[data-astro-cid-gjtny2mx] h1[data-astro-cid-gjtny2mx]:hover:before,.prose[data-astro-cid-gjtny2mx] h2[data-astro-cid-gjtny2mx]:hover:before,.prose[data-astro-cid-gjtny2mx] h3[data-astro-cid-gjtny2mx]:hover:before,.prose[data-astro-cid-gjtny2mx] h4[data-astro-cid-gjtny2mx]:hover:before,.prose[data-astro-cid-gjtny2mx] h5[data-astro-cid-gjtny2mx]:hover:before,.prose[data-astro-cid-gjtny2mx] h6[data-astro-cid-gjtny2mx]:hover:before{content:"#";position:absolute;left:-1.5rem;color:hsl(var(--muted-foreground));font-weight:400;opacity:.7}.prose[data-astro-cid-gjtny2mx] p[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] li[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] blockquote[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] strong[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] em[data-astro-cid-gjtny2mx],.prose[data-astro-cid-gjtny2mx] code[data-astro-cid-gjtny2mx]{color:hsl(var(--foreground))!important}.prose[data-astro-cid-gjtny2mx] a[data-astro-cid-gjtny2mx]{color:hsl(var(--primary))!important}.prose[data-astro-cid-gjtny2mx] a[data-astro-cid-gjtny2mx]:hover{color:hsl(var(--primary) / .8)!important}
</style><script type="module" src="/_astro/hoisted.fX-4WX36.js"></script></head> <body data-astro-cid-sckkx6r4> <div class="container mx-auto max-w-4xl px-4 min-h-screen flex flex-col" data-astro-cid-sckkx6r4> <header class="py-8 mb-8" data-astro-cid-sckkx6r4> <nav class="flex justify-between items-center" data-astro-cid-sckkx6r4> <a href="/" class="text-xl font-bold" data-astro-cid-sckkx6r4>Servando's Blog</a> <div class="flex gap-6 items-center" data-astro-cid-sckkx6r4> <a href="/" data-astro-cid-sckkx6r4>Home</a> <a href="/posts" data-astro-cid-sckkx6r4>Posts</a> <a href="/about" data-astro-cid-sckkx6r4>About</a> <button id="theme-toggle" class="p-2 rounded hover:opacity-70 transition-opacity"> <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"> <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path> </svg> <svg id="theme-toggle-light-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path> </svg> </button>  </div> </nav> </header> <main class="flex-1" data-astro-cid-sckkx6r4>  <div class="flex gap-8 items-start flex-col xl:flex-row" data-astro-cid-gjtny2mx> <nav class="toc" aria-label="Table of Contents" data-astro-cid-xvrfupwn> <ul class="toc-list" data-astro-cid-xvrfupwn> <li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#the-ai-application-stack" class="toc-link" data-astro-cid-xvrfupwn> The AI Application Stack </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#key-components" class="toc-link" data-astro-cid-xvrfupwn> Key Components </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#1-aiml-apis" class="toc-link" data-astro-cid-xvrfupwn> 1. AI/ML APIs </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#2-vector-databases" class="toc-link" data-astro-cid-xvrfupwn> 2. Vector Databases </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#3-embedding-models" class="toc-link" data-astro-cid-xvrfupwn> 3. Embedding Models </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#architecture-patterns" class="toc-link" data-astro-cid-xvrfupwn> Architecture Patterns </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#pattern-1-simple-api-integration" class="toc-link" data-astro-cid-xvrfupwn> Pattern 1: Simple API Integration </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#pattern-2-rag-retrieval-augmented-generation" class="toc-link" data-astro-cid-xvrfupwn> Pattern 2: RAG (Retrieval-Augmented Generation) </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#pattern-3-agent-architecture" class="toc-link" data-astro-cid-xvrfupwn> Pattern 3: Agent Architecture </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#best-practices" class="toc-link" data-astro-cid-xvrfupwn> Best Practices </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#1-error-handling-and-retries" class="toc-link" data-astro-cid-xvrfupwn> 1. Error Handling and Retries </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#2-cost-management" class="toc-link" data-astro-cid-xvrfupwn> 2. Cost Management </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#3-security-considerations" class="toc-link" data-astro-cid-xvrfupwn> 3. Security Considerations </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#example-building-a-code-review-assistant" class="toc-link" data-astro-cid-xvrfupwn> Example: Building a Code Review Assistant </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#performance-optimization" class="toc-link" data-astro-cid-xvrfupwn> Performance Optimization </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#1-streaming-responses" class="toc-link" data-astro-cid-xvrfupwn> 1. Streaming Responses </a> </li><li class="toc-item" style="margin-left: 1rem" data-astro-cid-xvrfupwn> <a href="#2-parallel-processing" class="toc-link" data-astro-cid-xvrfupwn> 2. Parallel Processing </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#deployment-considerations" class="toc-link" data-astro-cid-xvrfupwn> Deployment Considerations </a> </li><li class="toc-item" style="margin-left: 0rem" data-astro-cid-xvrfupwn> <a href="#conclusion" class="toc-link" data-astro-cid-xvrfupwn> Conclusion </a> </li> </ul> </nav>   <article class="flex-1 min-w-0" data-astro-cid-gjtny2mx> <header class="mb-8 pb-6 border-b border-border" data-astro-cid-gjtny2mx> <h1 class="text-4xl md:text-5xl font-bold mb-4 leading-tight text-foreground" data-astro-cid-gjtny2mx> Building AI-Powered Applications: A Practical Guide </h1> <div class="text-muted-foreground text-sm mb-4" data-astro-cid-gjtny2mx> <time datetime="2024-01-25T00:00:00.000Z" data-astro-cid-gjtny2mx> January 25, 2024 </time> </div> <div class="flex gap-3 flex-wrap" data-astro-cid-gjtny2mx> <a href="/categories/ai" class="bg-secondary text-secondary-foreground px-3 py-1 rounded-full text-xs font-medium border border-border hover:bg-accent hover:text-accent-foreground transition-all duration-200" data-astro-cid-gjtny2mx> AI </a><a href="/categories/software engineering" class="bg-secondary text-secondary-foreground px-3 py-1 rounded-full text-xs font-medium border border-border hover:bg-accent hover:text-accent-foreground transition-all duration-200" data-astro-cid-gjtny2mx> Software Engineering </a><a href="/categories/tutorial" class="bg-secondary text-secondary-foreground px-3 py-1 rounded-full text-xs font-medium border border-border hover:bg-accent hover:text-accent-foreground transition-all duration-200" data-astro-cid-gjtny2mx> Tutorial </a> </div> </header> <div class="prose prose-lg max-w-[700px] mx-auto text-foreground" data-astro-cid-gjtny2mx>  <h1 id="building-ai-powered-applications-a-practical-guide">Building AI-Powered Applications: A Practical Guide<a class="heading-link" aria-label="Link to this section" href="#building-ai-powered-applications-a-practical-guide"><span class="icon icon-link"></span></a></h1>
<p>The AI revolution is here, and every developer should know how to build applications that leverage AI capabilities. This guide will walk you through the practical aspects of integrating AI into your apps.</p>
<blockquote>
<p><strong>Looking for professional AI implementation support?</strong> <a href="https://controlthrive.com">ControlThrive offers strategic AI consulting and RAG implementation training</a> to help transform AI/ML confusion into competitive advantage.</p>
</blockquote>
<h2 id="the-ai-application-stack">The AI Application Stack<a class="heading-link" aria-label="Link to this section" href="#the-ai-application-stack"><span class="icon icon-link"></span></a></h2>
<p>Modern AI applications typically consist of several layers:</p>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>┌─────────────────┐</span></span>
<span class="line"><span>│   Frontend UI   │</span></span>
<span class="line"><span>├─────────────────┤</span></span>
<span class="line"><span>│  Application    │</span></span>
<span class="line"><span>│     Logic       │</span></span>
<span class="line"><span>├─────────────────┤</span></span>
<span class="line"><span>│   AI/ML APIs    │</span></span>
<span class="line"><span>├─────────────────┤</span></span>
<span class="line"><span>│  Vector Store   │</span></span>
<span class="line"><span>└─────────────────┘</span></span>
<span class="line"><span></span></span></code></pre>
<h2 id="key-components">Key Components<a class="heading-link" aria-label="Link to this section" href="#key-components"><span class="icon icon-link"></span></a></h2>
<h3 id="1-aiml-apis">1. AI/ML APIs<a class="heading-link" aria-label="Link to this section" href="#1-aiml-apis"><span class="icon icon-link"></span></a></h3>
<p>Most applications start with API-based AI services:</p>
<ul>
<li><strong>OpenAI GPT models</strong> for text generation</li>
<li><strong>Anthropic Claude</strong> for reasoning tasks</li>
<li><strong>Google Gemini</strong> for multimodal capabilities</li>
<li><strong>Specialized APIs</strong> for vision, speech, etc.</li>
</ul>
<h3 id="2-vector-databases">2. Vector Databases<a class="heading-link" aria-label="Link to this section" href="#2-vector-databases"><span class="icon icon-link"></span></a></h3>
<p>For RAG (Retrieval-Augmented Generation) applications:</p>
<ul>
<li><strong>Pinecone</strong> - Managed vector database</li>
<li><strong>Weaviate</strong> - Open-source with GraphQL</li>
<li><strong>Chroma</strong> - Lightweight, embeddable</li>
<li><strong>pgvector</strong> - PostgreSQL extension</li>
</ul>
<h3 id="3-embedding-models">3. Embedding Models<a class="heading-link" aria-label="Link to this section" href="#3-embedding-models"><span class="icon icon-link"></span></a></h3>
<p>Convert text to vectors for similarity search:</p>
<ul>
<li><strong>OpenAI text-embedding-ada-002</strong></li>
<li><strong>Sentence Transformers</strong></li>
<li><strong>Cohere Embed</strong></li>
</ul>
<h2 id="architecture-patterns">Architecture Patterns<a class="heading-link" aria-label="Link to this section" href="#architecture-patterns"><span class="icon icon-link"></span></a></h2>
<h3 id="pattern-1-simple-api-integration">Pattern 1: Simple API Integration<a class="heading-link" aria-label="Link to this section" href="#pattern-1-simple-api-integration"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A9955">// Basic AI integration</span></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> generateResponse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> response</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> openai</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">chat</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">completions</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">create</span><span style="color:#D4D4D4">({</span></span>
<span class="line"><span style="color:#9CDCFE">    model:</span><span style="color:#CE9178"> 'gpt-4'</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">    messages:</span><span style="color:#D4D4D4"> [{ </span><span style="color:#9CDCFE">role:</span><span style="color:#CE9178"> 'user'</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">content:</span><span style="color:#9CDCFE"> prompt</span><span style="color:#D4D4D4"> }],</span></span>
<span class="line"><span style="color:#9CDCFE">    max_tokens:</span><span style="color:#B5CEA8"> 500</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#9CDCFE"> response</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">choices</span><span style="color:#D4D4D4">[</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">].</span><span style="color:#9CDCFE">message</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h3 id="pattern-2-rag-retrieval-augmented-generation">Pattern 2: RAG (Retrieval-Augmented Generation)<a class="heading-link" aria-label="Link to this section" href="#pattern-2-rag-retrieval-augmented-generation"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A9955">// RAG implementation</span></span>
<span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> answerWithContext</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">question</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#6A9955">  // 1. Create embedding for question</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> questionEmbedding</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> createEmbedding</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">question</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">  // 2. Search vector database</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> relevantDocs</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> vectorDB</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">search</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">questionEmbedding</span><span style="color:#D4D4D4">, {</span></span>
<span class="line"><span style="color:#9CDCFE">    limit:</span><span style="color:#B5CEA8"> 5</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">    threshold:</span><span style="color:#B5CEA8"> 0.8</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">  // 3. Create context-aware prompt</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> context</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">relevantDocs</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">doc</span><span style="color:#569CD6"> =></span><span style="color:#9CDCFE"> doc</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">).</span><span style="color:#DCDCAA">join</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">'</span><span style="color:#D7BA7D">\n</span><span style="color:#CE9178">'</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> prompt</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">`Context: </span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">context</span><span style="color:#569CD6">}</span><span style="color:#D7BA7D">\n\n</span><span style="color:#CE9178">Question: </span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">question</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955">  // 4. Generate response</span></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#C586C0"> await</span><span style="color:#DCDCAA"> generateResponse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h3 id="pattern-3-agent-architecture">Pattern 3: Agent Architecture<a class="heading-link" aria-label="Link to this section" href="#pattern-3-agent-architecture"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A9955">// Simple agent with tools</span></span>
<span class="line"><span style="color:#569CD6">class</span><span style="color:#4EC9B0"> AIAgent</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">  constructor</span><span style="color:#D4D4D4">() {</span></span>
<span class="line"><span style="color:#569CD6">    this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">tools</span><span style="color:#D4D4D4"> = {</span></span>
<span class="line"><span style="color:#9CDCFE">      search:</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">webSearch</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      calculator:</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">calculate</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">      database:</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">queryDB</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">    };</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">  async</span><span style="color:#DCDCAA"> execute</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">task</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> plan</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">createPlan</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">task</span><span style="color:#D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">    for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> step</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> plan</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">steps</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">      const</span><span style="color:#4FC1FF"> tool</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">this</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">tools</span><span style="color:#D4D4D4">[</span><span style="color:#9CDCFE">step</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">tool</span><span style="color:#D4D4D4">];</span></span>
<span class="line"><span style="color:#569CD6">      const</span><span style="color:#4FC1FF"> result</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#DCDCAA"> tool</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">step</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">input</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#9CDCFE">      step</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">result</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">synthesizeResults</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">plan</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h2 id="best-practices">Best Practices<a class="heading-link" aria-label="Link to this section" href="#best-practices"><span class="icon icon-link"></span></a></h2>
<h3 id="1-error-handling-and-retries">1. Error Handling and Retries<a class="heading-link" aria-label="Link to this section" href="#1-error-handling-and-retries"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> robustAPICall</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">maxRetries</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">3</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">let</span><span style="color:#9CDCFE"> i</span><span style="color:#D4D4D4"> = </span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4"> &#x3C; </span><span style="color:#9CDCFE">maxRetries</span><span style="color:#D4D4D4">; </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">++) {</span></span>
<span class="line"><span style="color:#C586C0">    try</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">      const</span><span style="color:#4FC1FF"> response</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> openai</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">chat</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">completions</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">create</span><span style="color:#D4D4D4">({</span></span>
<span class="line"><span style="color:#9CDCFE">        model:</span><span style="color:#CE9178"> 'gpt-4'</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">        messages:</span><span style="color:#D4D4D4"> [{ </span><span style="color:#9CDCFE">role:</span><span style="color:#CE9178"> 'user'</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">content:</span><span style="color:#9CDCFE"> prompt</span><span style="color:#D4D4D4"> }],</span></span>
<span class="line"><span style="color:#D4D4D4">      });</span></span>
<span class="line"><span style="color:#C586C0">      return</span><span style="color:#9CDCFE"> response</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    } </span><span style="color:#C586C0">catch</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">error</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#C586C0">      if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">error</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#B5CEA8">429</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#6A9955">        // Rate limit - exponential backoff</span></span>
<span class="line"><span style="color:#C586C0">        await</span><span style="color:#DCDCAA"> sleep</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">Math</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">pow</span><span style="color:#D4D4D4">(</span><span style="color:#B5CEA8">2</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">i</span><span style="color:#D4D4D4">) * </span><span style="color:#B5CEA8">1000</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">        continue</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">      }</span></span>
<span class="line"><span style="color:#C586C0">      throw</span><span style="color:#9CDCFE"> error</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2-cost-management">2. Cost Management<a class="heading-link" aria-label="Link to this section" href="#2-cost-management"><span class="icon icon-link"></span></a></h3>
<ul>
<li><strong>Use appropriate models</strong> - Don’t use GPT-4 for simple tasks</li>
<li><strong>Implement caching</strong> - Cache common queries</li>
<li><strong>Set token limits</strong> - Prevent runaway costs</li>
<li><strong>Monitor usage</strong> - Track API calls and costs</li>
</ul>
<h3 id="3-security-considerations">3. Security Considerations<a class="heading-link" aria-label="Link to this section" href="#3-security-considerations"><span class="icon icon-link"></span></a></h3>
<ul>
<li><strong>Validate inputs</strong> - Sanitize user prompts</li>
<li><strong>Rate limiting</strong> - Prevent abuse</li>
<li><strong>API key management</strong> - Use environment variables</li>
<li><strong>Content filtering</strong> - Block inappropriate content</li>
</ul>
<h2 id="example-building-a-code-review-assistant">Example: Building a Code Review Assistant<a class="heading-link" aria-label="Link to this section" href="#example-building-a-code-review-assistant"><span class="icon icon-link"></span></a></h2>
<p>Here’s a practical example of an AI-powered code review tool:</p>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#569CD6">class</span><span style="color:#4EC9B0"> CodeReviewAssistant</span><span style="color:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#569CD6">  async</span><span style="color:#DCDCAA"> reviewCode</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">code</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">language</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> prompt</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">`</span></span>
<span class="line"><span style="color:#CE9178">You are an expert code reviewer. Review this </span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">language</span><span style="color:#569CD6">}</span><span style="color:#CE9178"> code:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D7BA7D">\`\`\`</span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">language</span><span style="color:#569CD6">}</span></span>
<span class="line"><span style="color:#569CD6">${</span><span style="color:#9CDCFE">code</span><span style="color:#569CD6">}</span></span>
<span class="line"><span style="color:#D7BA7D">\`\`\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CE9178">Provide feedback on:</span></span>
<span class="line"><span style="color:#CE9178">1. Code quality and best practices</span></span>
<span class="line"><span style="color:#CE9178">2. Potential bugs or issues</span></span>
<span class="line"><span style="color:#CE9178">3. Performance improvements</span></span>
<span class="line"><span style="color:#CE9178">4. Readability suggestions</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CE9178">Format your response as JSON with sections for each area.</span></span>
<span class="line"><span style="color:#CE9178">    `</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> response</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">generateResponse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#4FC1FF"> JSON</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">parse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">response</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6">  async</span><span style="color:#DCDCAA"> suggestImprovements</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">code</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">issues</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> prompt</span><span style="color:#D4D4D4"> = </span><span style="color:#CE9178">`</span></span>
<span class="line"><span style="color:#CE9178">Given this code and the identified issues, suggest specific improvements:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CE9178">Code:</span></span>
<span class="line"><span style="color:#D7BA7D">\`\`\`</span></span>
<span class="line"><span style="color:#569CD6">${</span><span style="color:#9CDCFE">code</span><span style="color:#569CD6">}</span></span>
<span class="line"><span style="color:#D7BA7D">\`\`\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CE9178">Issues:</span></span>
<span class="line"><span style="color:#569CD6">${</span><span style="color:#9CDCFE">issues</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">issue</span><span style="color:#569CD6"> =></span><span style="color:#CE9178"> `- </span><span style="color:#569CD6">${</span><span style="color:#9CDCFE">issue</span><span style="color:#569CD6">}</span><span style="color:#CE9178">`</span><span style="color:#D4D4D4">).</span><span style="color:#DCDCAA">join</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">'</span><span style="color:#D7BA7D">\n</span><span style="color:#CE9178">'</span><span style="color:#D4D4D4">)</span><span style="color:#569CD6">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CE9178">Provide the improved code with explanations.</span></span>
<span class="line"><span style="color:#CE9178">    `</span><span style="color:#D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">    return</span><span style="color:#C586C0"> await</span><span style="color:#569CD6"> this</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">generateResponse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h2 id="performance-optimization">Performance Optimization<a class="heading-link" aria-label="Link to this section" href="#performance-optimization"><span class="icon icon-link"></span></a></h2>
<h3 id="1-streaming-responses">1. Streaming Responses<a class="heading-link" aria-label="Link to this section" href="#1-streaming-responses"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> streamResponse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> stream</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#9CDCFE"> openai</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">chat</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">completions</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">create</span><span style="color:#D4D4D4">({</span></span>
<span class="line"><span style="color:#9CDCFE">    model:</span><span style="color:#CE9178"> 'gpt-4'</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#9CDCFE">    messages:</span><span style="color:#D4D4D4"> [{ </span><span style="color:#9CDCFE">role:</span><span style="color:#CE9178"> 'user'</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">content:</span><span style="color:#9CDCFE"> prompt</span><span style="color:#D4D4D4"> }],</span></span>
<span class="line"><span style="color:#9CDCFE">    stream:</span><span style="color:#569CD6"> true</span><span style="color:#D4D4D4">,</span></span>
<span class="line"><span style="color:#D4D4D4">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  for</span><span style="color:#C586C0"> await</span><span style="color:#D4D4D4"> (</span><span style="color:#569CD6">const</span><span style="color:#4FC1FF"> chunk</span><span style="color:#569CD6"> of</span><span style="color:#9CDCFE"> stream</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">    const</span><span style="color:#4FC1FF"> content</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">chunk</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">choices</span><span style="color:#D4D4D4">[</span><span style="color:#B5CEA8">0</span><span style="color:#D4D4D4">]?.</span><span style="color:#9CDCFE">delta</span><span style="color:#D4D4D4">?.</span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">;</span></span>
<span class="line"><span style="color:#C586C0">    if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#9CDCFE">      process</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">stdout</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">write</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">content</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">    }</span></span>
<span class="line"><span style="color:#D4D4D4">  }</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h3 id="2-parallel-processing">2. Parallel Processing<a class="heading-link" aria-label="Link to this section" href="#2-parallel-processing"><span class="icon icon-link"></span></a></h3>
<pre class="astro-code dark-plus" style="background-color:#1E1E1E;color:#D4D4D4; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#569CD6">async</span><span style="color:#569CD6"> function</span><span style="color:#DCDCAA"> processMultiple</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompts</span><span style="color:#D4D4D4">) {</span></span>
<span class="line"><span style="color:#569CD6">  const</span><span style="color:#4FC1FF"> promises</span><span style="color:#D4D4D4"> = </span><span style="color:#9CDCFE">prompts</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">map</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#569CD6"> =></span><span style="color:#DCDCAA"> generateResponse</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">prompt</span><span style="color:#D4D4D4">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0">  return</span><span style="color:#C586C0"> await</span><span style="color:#4EC9B0"> Promise</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">all</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">promises</span><span style="color:#D4D4D4">);</span></span>
<span class="line"><span style="color:#D4D4D4">}</span></span>
<span class="line"></span></code></pre>
<h2 id="deployment-considerations">Deployment Considerations<a class="heading-link" aria-label="Link to this section" href="#deployment-considerations"><span class="icon icon-link"></span></a></h2>
<ul>
<li><strong>Environment variables</strong> for API keys</li>
<li><strong>Load balancing</strong> for high traffic</li>
<li><strong>Monitoring and logging</strong> for debugging</li>
<li><strong>Graceful degradation</strong> when AI services are down</li>
</ul>
<h2 id="conclusion">Conclusion<a class="heading-link" aria-label="Link to this section" href="#conclusion"><span class="icon icon-link"></span></a></h2>
<p>Building AI-powered applications is becoming increasingly accessible. The key is to:</p>
<ol>
<li>Start with simple integrations</li>
<li>Focus on user experience</li>
<li>Handle errors gracefully</li>
<li>Monitor costs and performance</li>
<li>Iterate based on user feedback</li>
</ol>
<p>The AI landscape is evolving rapidly, but these fundamental patterns and practices will serve you well as you build the next generation of intelligent applications.</p>
<hr>
<p><strong>Resources</strong>:</p>
<ul>
<li><a href="https://platform.openai.com/docs">OpenAI API Documentation</a></li>
<li><a href="https://langchain.com">LangChain Framework</a></li>
<li><a href="https://example.com">Vector Database Comparison</a></li>
</ul>  </div> <nav class="mt-12 pt-8 border-t border-border max-w-[700px] mx-auto" data-astro-cid-gjtny2mx> <a href="/posts" class="inline-flex items-center gap-2 text-foreground hover:text-primary font-medium transition-all duration-200 hover:transform hover:-translate-x-1" data-astro-cid-gjtny2mx>← Back to all posts</a> </nav> </article> </div>  </main> <footer class="py-8 mt-16 text-center opacity-60" data-astro-cid-sckkx6r4> <p data-astro-cid-sckkx6r4>&copy; 2024 Servando Torres</p> </footer> </div> </body></html> 